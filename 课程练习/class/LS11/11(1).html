<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // (function 函数名(参数)) {
    //    函数体
    // }(实参)
    function max(x, y) {
        return x > y ? x : y;
    } (2, 3);

    function min(a, b) {
        return a > b ? b : a;
    } (2, 3);
    var userId = 2;
   document.onclick = function() {
       alert(userId);
   }
   (function() {
        if(true) {
            var userId = 20;
        }
    }());
    if(true) {
        var userId = 20;
    }
    


    function foo() {
        var arr1 = [];
        for(var i = 0; i < 10; i++) {
            arr1[i] = (function() {
                return i;
            }())
        }
        return arr1;
    }
    var arr2 = foo();
    arr2[0];


    // 通过IIFE对变量存储的改变
    // function foo() {
    //     var arr1 = [];
    //     for(var i = 0; i < 10; i++) {
    // 形成10个作用域，作用域内的j值各不相同，并且不共享
    //         (function(j) {
    //             arr1[j] = function() {
    //                 return j;
    //             }
    //         })(i)
    //     }
    //     return arr1;
    // }
    // var arr2 = foo();
    // arr2[0];

    // 1.立即执行函数表达式
    // 2.避免变量的污染，形成一个独立的空间，变量仅在该作用域内起作用
    
    function fn() {
        var arrr1 = [];
        for(var i = 0; i < 10; i++) {
            (function(j) {
                arrr1[j] = function() {
                    return j;
                }
            }) (i)
        }
        return arrr1;
    }

    // arrr1[0] = function() {
    //     return i;
    // }
    // arrr1[1] = function() {
    //     return i;
    // }
    // arrr1[2] = function() {
    //     return i;
    // }
</script>
</html>